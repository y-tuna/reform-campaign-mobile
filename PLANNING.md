# 📱 유세 비서 모바일 앱 기획서

> **버전**: 1.0.0
> **작성일**: 2024-12-22
> **상태**: 개발 진행 중

---

## 1. 앱 개요

### 컨셉
> **"후보자 일정 관리 앱"** - 오늘 할 일을 한눈에

### 타겟 사용자
- **후보자 전용** (관리자 기능 없음)

### 웹과의 역할 분담
| 기능 | 웹 | 모바일 |
|------|:---:|:------:|
| 서류 제출 | ✅ | ❌ |
| 일정 관리 | ✅ | ✅ (메인) |
| 공지 확인 | ✅ | ✅ |
| 교육 수강 | ✅ | ❌ |
| 템플릿 다운 | ✅ | ❌ |
| 관리자 기능 | ✅ | ❌ |

---

## 2. 핵심 기능

| 우선순위 | 기능 | 설명 |
|---------|------|------|
| 🔴 P0 | **오늘의 일정** | 오늘 해야 할 일, 시간대별 스케줄 |
| 🔴 P0 | **일정 CRUD** | 일정 추가/수정/삭제 |
| 🔴 P0 | **푸시 알림** | 일정 리마인더, 긴급 공지 |
| 🔴 P0 | **선거법 챗봇** | 선거법/선관위 질의 RAG 기반 챗봇 |
| 🟠 P1 | **공지사항** | 당 공지 확인 |
| 🟠 P1 | **캘린더** | 주간/월간 일정 조회 |
| 🟡 P2 | **마이페이지** | 프로필, 설정 |

---

## 3. 화면 구성

### 3.1 네비게이션 구조

```
하단 탭 네비게이션 (5개)
├── 홈 (오늘의 일정)
├── 캘린더
├── 챗봇 (선거법 질의)
├── 알림/공지
└── 마이페이지
```

### 3.2 화면 목록

#### 1) 홈 (오늘의 일정) ⭐ 메인
```
┌────────────────────────────┐
│  12월 22일 일요일           │
│  오늘 할 일 3개             │
├────────────────────────────┤
│  ○ 09:00  선거사무소 출근   │
│  ● 14:00  지역구 인사 (완료)│
│  ○ 18:00  저녁 유세        │
├────────────────────────────┤
│  📢 새 공지 2건            │
│                      [+]   │
└────────────────────────────┘
```

**기능:**
- 오늘 날짜 & 할 일 요약
- 시간순 일정 목록
- 완료 체크 토글
- 일정 탭 → 상세/수정
- [+] FAB 버튼 → 빠른 일정 추가

#### 2) 캘린더
```
┌────────────────────────────┐
│  ◀  2024년 12월  ▶        │
│  [주간] [월간]              │
├────────────────────────────┤
│  일 월 화 수 목 금 토       │
│  1  2  3  4  5  6  7       │
│  8  9  10 11 12 13 14      │
│  15 16 17 18 19 20 21      │
│  22●23 24 25 26 27 28      │
│  29 30 31                  │
├────────────────────────────┤
│  22일 일정                  │
│  ○ 09:00  선거사무소 출근   │
│  ○ 18:00  저녁 유세        │
│                      [+]   │
└────────────────────────────┘
```

**기능:**
- 주간/월간 뷰 전환
- 날짜 선택 → 해당일 일정
- [+] 일정 추가

#### 3) 일정 추가/수정 (모달 또는 새 화면)
```
┌────────────────────────────┐
│  ← 일정 추가        [저장] │
├────────────────────────────┤
│  제목 *                    │
│  ┌──────────────────────┐  │
│  │ 지역구 인사          │  │
│  └──────────────────────┘  │
│                            │
│  날짜 *        시간        │
│  ┌──────────┐ ┌─────────┐  │
│  │ 12/23    │ │ 14:00   │  │
│  └──────────┘ └─────────┘  │
│                            │
│  장소                      │
│  ┌──────────────────────┐  │
│  │ 강남구 선거사무소    │  │
│  └──────────────────────┘  │
│                            │
│  유형                      │
│  [유세] [회의] [행사] [기타]│
│                            │
│  알림                      │
│  [없음] [10분전] [1시간전] │
│                            │
│  메모                      │
│  ┌──────────────────────┐  │
│  │                      │  │
│  └──────────────────────┘  │
│                            │
│  ┌──────────────────────┐  │
│  │     🗑️ 일정 삭제     │  │
│  └──────────────────────┘  │
└────────────────────────────┘
```

**필드:**
- 제목 (필수)
- 날짜 (필수)
- 시간 (선택)
- 장소 (선택)
- 유형: 유세 | 회의 | 행사 | 기타
- 알림: 없음 | 10분 전 | 1시간 전 | 1일 전
- 메모 (선택)

#### 4) 챗봇 (선거법 질의)
```
┌────────────────────────────┐
│  💬 선거법 도우미          │
├────────────────────────────┤
│                            │
│  🤖 안녕하세요! 선거법에   │
│     관해 궁금한 점을       │
│     물어보세요.            │
│                            │
│  ┌──────────────────────┐  │
│  │ 👤 선거 운동원 수당은 │  │
│  │    얼마까지 가능한가요?│  │
│  └──────────────────────┘  │
│                            │
│  ┌──────────────────────┐  │
│  │ 🤖 공직선거법 제135조 │  │
│  │ 에 따르면 선거운동원   │  │
│  │ 에게 지급할 수 있는    │  │
│  │ 수당은 1일 최대...     │  │
│  └──────────────────────┘  │
│                            │
├────────────────────────────┤
│  ┌──────────────────────┐  │
│  │ 질문을 입력하세요...  │ ▶│
│  └──────────────────────┘  │
└────────────────────────────┘
```

**기능:**
- 선거법/선관위 질의응답 RAG 기반 챗봇
- 대화 히스토리 유지
- 관련 법령 조항 인용
- 심플한 싱글턴 스크립트 기반

**기술 구조:**
- RAG/CAG 기반 검색 증강 생성
- 선거법 + 선관위 질의응답 데이터 임베딩
- 싱글턴 API 엔드포인트 호출

---

#### 5) 알림/공지
```
┌────────────────────────────┐
│  알림                      │
├────────────────────────────┤
│  🔔 오늘                   │
│  ├─ 14:00 지역구 인사 10분전│
│  └─ 새 공지: 선거법 안내    │
│                            │
│  🔔 어제                   │
│  └─ 18:00 저녁 유세 완료   │
├────────────────────────────┤
│  📢 공지사항               │
│  ├─ [긴급] 선거법 개정 안내 │
│  └─ 이번 주 유세 일정 공유  │
└────────────────────────────┘
```

**기능:**
- 푸시 알림 목록
- 당 공지사항 목록
- 읽음/안읽음 표시

#### 6) 마이페이지
```
┌────────────────────────────┐
│  마이페이지                │
├────────────────────────────┤
│  👤 홍길동                 │
│     서울 강남구 후보        │
├────────────────────────────┤
│  ⚙️ 알림 설정              │
│  📱 앱 정보                │
│  ❓ 도움말                 │
├────────────────────────────┤
│  🚪 로그아웃               │
└────────────────────────────┘
```

---

## 4. 데이터 구조

### Schedule (일정)
```typescript
interface Schedule {
  id: string
  userId: string
  title: string
  date: string          // YYYY-MM-DD
  time?: string         // HH:mm
  location?: string
  memo?: string
  type: 'campaign' | 'meeting' | 'event' | 'other'
  reminder?: 'none' | '10min' | '1hour' | '1day'
  isCompleted: boolean
  createdAt: string
  updatedAt: string
}
```

### Notification (알림)
```typescript
interface Notification {
  id: string
  userId: string
  title: string
  body: string
  type: 'schedule_reminder' | 'broadcast'
  isRead: boolean
  createdAt: string
}
```

### Broadcast (공지)
```typescript
interface Broadcast {
  id: string
  title: string
  content: string
  severity: 'info' | 'warning' | 'urgent'
  createdAt: string
}
```

### ChatMessage (챗봇 메시지)
```typescript
interface ChatMessage {
  id: string
  role: 'user' | 'assistant'
  content: string
  sources?: string[]      // 인용 법령 조항
  createdAt: string
}

interface ChatSession {
  id: string
  userId: string
  messages: ChatMessage[]
  createdAt: string
  updatedAt: string
}
```

---

## 5. 기술 스택

| 영역 | 기술 |
|------|------|
| Framework | Expo (React Native) |
| Language | TypeScript |
| Navigation | React Navigation (Bottom Tabs) |
| State | Zustand (예정) |
| Backend | Supabase |
| Push | Expo Notifications |

---

## 6. 개발 로드맵

### Phase 1: MVP (현재)
- [ ] 프로젝트 구조 설정
- [ ] 하단 탭 네비게이션 (5탭)
- [ ] 홈 화면 (오늘의 일정)
- [ ] 일정 추가/수정/삭제
- [ ] 캘린더 화면
- [ ] Supabase 연동

### Phase 2: 챗봇
- [ ] 챗봇 화면 UI
- [ ] RAG API 엔드포인트 연동
- [ ] 대화 히스토리 관리
- [ ] 법령 인용 표시

### Phase 3: 알림
- [ ] 알림/공지 화면
- [ ] 푸시 알림 설정
- [ ] 일정 리마인더

### Phase 4: 마무리
- [ ] 마이페이지
- [ ] 로그인/인증
- [ ] UI 다듬기

---

## 7. 실행 방법

```bash
# 모바일 앱 디렉토리로 이동
cd apps/mobile

# 의존성 설치
npm install

# 개발 서버 실행
npm run dev
```

Expo Go 앱에서 QR 코드 스캔 또는 웹 브라우저에서 확인 가능
