# 개혁신당 유세 비서 WEB - MVP 기획서 v1.0

> **작성일**: 2024-12-22
> **기준 문서**: 참치 정치서비스 구조(비서 중점), reform-campaign-spec v2.2/v2.3
> **대상**: 공천 확정 후보자 (status: pass)

---

## 1. 서비스 개요

### 1.1 목적
개혁신당 공천 확정 후보자를 위한 캠페인 지원 웹 서비스.
선거 준비에 필요한 서류, 가이드라인, 공보물 제작, 유세용품 구매를 한 곳에서 처리.

### 1.2 핵심 가치
- **원스톱**: 서류 → 가이드 → 공보물 → 용품 구매까지 한 플랫폼
- **간편함**: 복잡한 선거 행정을 단순화
- **연동**: 공천 시스템(apply-reform) 계정으로 바로 사용

### 1.3 사용자
| 역할 | 설명 | MVP 포함 |
|------|------|---------|
| 후보자 (candidate) | 공천 확정자, 서비스 주 사용자 | ✅ |
| 관리자 (admin) | 중앙당 운영자 | ❌ v2 |
| 뷰어 (viewer) | 읽기 전용 열람자 | ❌ v2 |

---

## 2. MVP 기능 범위

### 2.1 포함 기능
| # | 기능 | 설명 |
|---|------|------|
| 1 | 로그인/온보딩 | 공천 시스템 이메일 계정 연동 |
| 2 | 서류 가이드 | 공천/선관위 서류 다운로드, 체크리스트 |
| 3 | 가이드라인 | 선거법 Q&A, 유세 체크리스트, 출마자 교육 |
| 4 | 공보물 에디터 | 템플릿 기반 정보 입력 → 광고천하 연동 |
| 5 | 유세용품 몰 | 자체 상품 목록, 광고천하 결제모듈 연동 |

### 2.2 제외 기능 (v2 이후)
- 대시보드/히트맵/리더보드
- 관리자 기능 (후보자 관리, 증빙 승인, 공지 푸시)
- 크레딧/후원금 정산
- 증빙 업로드/심사

---

## 3. 페이지 구조 (IA)

```
/
├── /auth
│   └── /login              # 로그인 (공천 이메일)
├── /onboarding             # 첫 로그인 시 프로필 확인/보완
├── /dashboard              # 후보자 홈 (서비스 진입점)
├── /documents              # 서류 가이드
│   ├── /nomination         # 공천 서류
│   └── /registration       # 선관위 등록 서류
├── /guides                 # 가이드라인
│   ├── /election-law       # 선거법 Q&A
│   ├── /campaign-checklist # 유세 체크리스트
│   ├── /print-materials    # 공보물 가이드
│   └── /education          # 출마자 교육 (영상/문서)
├── /templates              # 공보물 에디터
│   ├── /business-card      # 명함
│   ├── /banner             # 현수막
│   ├── /poster             # 포스터
│   └── /brochure           # 공보물 (리플렛)
├── /shop                   # 유세용품 몰
│   ├── /products           # 상품 목록
│   ├── /cart               # 장바구니
│   └── /orders             # 주문내역
└── /settings               # 설정
    ├── /profile            # 프로필 수정
    └── /notifications      # 알림 설정
```

---

## 4. 기능 상세

### 4.1 로그인/온보딩

**로그인**
- 이메일 + 비밀번호 (공천 시스템과 동일 계정)
- 공천 시스템에서 `status: pass`인 사용자만 로그인 가능
- 미승인 사용자: "공천 심사 진행 중" 안내

**온보딩 (첫 로그인)**
- 공천 시스템에서 이관받는 정보: 이름, 생년월일, 성별, 선거구, 직책
- 추가 입력: 연락처 확인, 서비스 이용약관 동의

### 4.2 서류 가이드

**공천 서류** (`/documents/nomination`)
- 공천 접수 시 제출했던 서류 다운로드
- 체크리스트 형태로 제출 현황 표시

**선관위 등록 서류** (`/documents/registration`)
- 예비후보자 등록 서류 가이드
- 후보자 등록 서류 가이드
- 각 서류별 작성 예시, 주의사항
- 외부 링크: 선관위 공식 양식 다운로드

### 4.3 가이드라인

**선거법 Q&A** (`/guides/election-law`)
- 자주 묻는 선거법 질문/답변
- 카테고리: 선거운동, 기부행위, 공보물, 확성기/차량
- 각 항목에 선관위 근거 조항 표기
- [자세히 보기] → 선관위 공식 문서 링크

**유세 체크리스트** (`/guides/campaign-checklist`)
- 예비후보자 시기 / 후보자 시기 구분
- 일별/주별 해야 할 일 체크리스트
- 인쇄용 PDF 다운로드

**출마자 교육** (`/guides/education`)
- 당 자체 교육 콘텐츠 (노션/유튜브 embed)
- 톤앤매너 가이드: "민폐 없는 선거운동"
- 명함 전달법, 인사 예절 등

### 4.4 공보물 에디터

**개요**
- 템플릿 선택 → 정보 입력 → 미리보기 → 주문
- 주문 시 광고천하로 데이터 전송 → 업체에서 디자인 작업 착수
- 결제는 광고천하 결제모듈로 처리

**템플릿 종류**
| 템플릿 | 규격 | 필수 입력 항목 |
|--------|------|---------------|
| 명함 | 90x50mm | 이름, 정당, 직책, 연락처, 사진, 슬로건 |
| 현수막 | 900x1800mm 등 | 이름, 정당, 기호, 사진, 슬로건 |
| 포스터 | A2, A3 | 이름, 정당, 기호, 사진, 공약 요약 |
| 공보물 | 8p/16p | 인적사항, 공약, 경력, 사진 등 |

**플로우**
```
1. 템플릿 선택
2. 필수 정보 입력 (폼)
3. 사진 업로드
4. 미리보기 (템플릿에 데이터 매핑)
5. 주문하기 → 광고천하 결제 페이지 이동
6. 결제 완료 → 주문 확인 페이지
```

**광고천하 연동**
- 주문 데이터 전송: 템플릿ID, 입력 정보, 사진 URL
- 결제: 광고천하 결제모듈 (iframe 또는 리다이렉트)
- 세금계산서: 광고천하에서 처리 (선관위 기준 항목)

### 4.5 유세용품 몰

**개요**
- 자체 상품 목록 관리
- 결제는 광고천하 결제모듈로 처리
- 마진은 후에 광고천하와 정산

**상품 카테고리**
| 카테고리 | 예시 상품 |
|----------|----------|
| 유세복 | 어깨띠, 조끼, 점퍼 |
| 홍보물 | 피켓, 배너, 깃발 |
| 장비 | 마이크, 스피커, 확성기 |
| 차량용품 | 자석시트, 랩핑 |
| 소모품 | 배터리, 보온용품 |

**페이지 구성**
- `/shop/products`: 상품 목록 (카테고리 필터, 검색)
- `/shop/cart`: 장바구니
- `/shop/orders`: 주문내역, 배송 상태

**결제 플로우**
```
1. 상품 선택 → 장바구니 담기
2. 장바구니 확인 → 주문하기
3. 배송 정보 입력
4. 광고천하 결제 페이지 이동
5. 결제 완료 → 주문 확인
```

### 4.6 설정

**프로필** (`/settings/profile`)
- 기본 정보 조회 (이름, 선거구, 직책)
- 연락처 수정
- 비밀번호 변경

**알림 설정** (`/settings/notifications`)
- 이메일 알림 on/off
- 알림 카테고리별 설정

---

## 5. 데이터 모델 (초안)

### 5.1 사용자 (users)
```typescript
interface User {
  id: string
  email: string
  name: string
  phone?: string
  birthDate?: string
  gender?: 'male' | 'female'
  district: string        // 선거구
  position: string        // 직책 (구의원, 시의원 등)
  nominationStatus: 'pass' | 'pending' | 'rejected'
  role: 'candidate' | 'admin' | 'viewer'
  createdAt: Date
}
```

### 5.2 공보물 주문 (template_orders)
```typescript
interface TemplateOrder {
  id: string
  userId: string
  templateType: 'business-card' | 'banner' | 'poster' | 'brochure'
  inputData: Record<string, any>  // 폼 입력 데이터
  photoUrls: string[]
  status: 'draft' | 'submitted' | 'paid' | 'processing' | 'completed'
  externalOrderId?: string        // 광고천하 주문ID
  createdAt: Date
}
```

### 5.3 상품 (products)
```typescript
interface Product {
  id: string
  name: string
  category: string
  description: string
  price: number
  imageUrl: string
  inStock: boolean
  externalProductId?: string      // 광고천하 상품ID
}
```

### 5.4 주문 (orders)
```typescript
interface Order {
  id: string
  userId: string
  items: OrderItem[]
  shippingAddress: Address
  status: 'pending' | 'paid' | 'shipped' | 'delivered'
  externalOrderId?: string        // 광고천하 주문ID
  createdAt: Date
}
```

---

## 6. 외부 연동

### 6.1 공천 시스템 (apply-reform)
- 사용자 인증 정보 공유
- 공천 상태(status) 조회
- 제출 서류 다운로드 링크

### 6.2 광고천하
- **공보물 주문**: 템플릿 데이터 전송
- **유세용품 주문**: 상품/수량 데이터 전송
- **결제**: 결제모듈 연동 (iframe/리다이렉트)
- **정산**: 마진 정산 (월별/분기별)

### 6.3 선관위
- 공식 문서/양식 링크 제공
- 선거법 Q&A 근거 조항 참조

---

## 7. 기술 스택

| 영역 | 기술 |
|------|------|
| Frontend | Next.js 14, React, TypeScript |
| Styling | Tailwind CSS, Ant Design |
| Auth | NextAuth.js (Credentials) |
| Database | PostgreSQL (Supabase) |
| Storage | Supabase Storage (사진 업로드) |
| Deployment | Vercel |

---

## 8. 페이지별 우선순위

### Phase 1 (필수)
1. `/auth/login` - 로그인
2. `/dashboard` - 후보자 홈
3. `/documents` - 서류 가이드
4. `/guides` - 가이드라인 (선거법, 체크리스트)

### Phase 2 (핵심)
5. `/templates` - 공보물 에디터
6. `/shop` - 유세용품 몰

### Phase 3 (보완)
7. `/settings` - 설정
8. `/guides/education` - 교육 콘텐츠

---

## 9. 화면 와이어프레임 (개요)

### 9.1 후보자 홈 (`/dashboard`)
```
┌─────────────────────────────────────┐
│ [로고] 유세 비서          [프로필] │
├─────────────────────────────────────┤
│                                     │
│  👋 OOO 후보님, 환영합니다!         │
│  선거구: OO시 OO구 / 직책: 구의원    │
│                                     │
├─────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐           │
│  │ 📄 서류  │ │ 📚 가이드 │          │
│  │ 가이드   │ │ 라인    │           │
│  └─────────┘ └─────────┘           │
│  ┌─────────┐ ┌─────────┐           │
│  │ 🎨 공보물│ │ 🛒 유세  │          │
│  │ 제작    │ │ 용품 몰  │           │
│  └─────────┘ └─────────┘           │
│                                     │
└─────────────────────────────────────┘
```

### 9.2 공보물 에디터 (`/templates/business-card`)
```
┌─────────────────────────────────────┐
│ ← 명함 만들기                       │
├─────────────────────────────────────┤
│ [미리보기 영역]                     │
│ ┌─────────────────────────────────┐ │
│ │      개혁신당                   │ │
│ │   OOO                          │ │
│ │   OO구의원 예비후보             │ │
│ │   010-XXXX-XXXX                │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 이름: [          ]                  │
│ 직책: [          ]                  │
│ 연락처: [          ]                │
│ 슬로건: [          ]                │
│ 사진: [업로드]                      │
│                                     │
│ [주문하기]                          │
└─────────────────────────────────────┘
```

---

## 10. 일정 (예상)

| 단계 | 내용 | 기간 |
|------|------|------|
| Phase 1 | 로그인, 홈, 서류, 가이드 | 1주 |
| Phase 2 | 공보물 에디터, 유세몰 | 2주 |
| Phase 3 | 설정, 교육, QA | 1주 |
| 총합 | MVP 완료 | 4주 |

---

## 11. 오픈 이슈

1. **광고천하 API 스펙**: 결제모듈 연동 방식 확정 필요
2. **공보물 템플릿 디자인**: 기본 템플릿 시안 필요
3. **상품 목록**: 유세용품 초기 상품 리스트 확정
4. **공천 시스템 연동**: 실제 DB 연동 vs API 연동 방식

---

## Appendix: 용어 정의

| 용어 | 정의 |
|------|------|
| 공천 | 정당에서 후보자를 공식 지명하는 절차 |
| 예비후보자 | 선거일 120일 전부터 등록 가능한 후보 |
| 후보자 | 선거일 23일 전 정식 등록한 후보 |
| 공보물 | 선거공보, 정당/후보자를 알리는 인쇄물 |
| 광고천하 | 공보물/유세용품 제작 업체 (외부 파트너) |
